/*jshint browsers:true, forin: true, laxbreak: true *//* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */window.Micrajax=function(){function a(a,b,c,d,e){function g(a){try{f.readyState==4&&d(f.responseText,f.status)}catch(b){}}function h(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1}var f;f=h(),f&&(f.onreadystatechange=g,f.open(a,b,!0),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),e&&f.setRequestHeader("Content-type",c),f.setRequestHeader("Accept","application/json;text/plain"),f.setRequestHeader("Connection","close"),f.send(e||null))}function b(a){var b=[],c="";for(var d in a)typeof a[d]!="undefined"&&b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b&&b.length&&(c=b.join("&")),c}"use strict";var c={ajax:function(c){var d=c.type||"GET",e=c.url,f=c.error,g=c.success,h=c.contentType||"application/x-www-form-urlencoded",i=b(c.data);d==="GET"&&i&&(e+="?"+i,i=null),a(d,e,h,function(a,b){var c={status:b,responseText:a};if(b>=200&&b<300||b===304){var d=a;try{var d=JSON.parse(a)}catch(e){}g&&g(d,a,c)}else f&&f(c,b,a)},i)}};return c}()